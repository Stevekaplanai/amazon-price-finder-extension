<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amazon Price Finder</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header>
      <div class="logo">
        <img src="../icons/icon48.png" alt="Logo" width="24" height="24">
        <span>Amazon Price Finder</span>
      </div>
      <button id="themeToggle" class="icon-btn" title="Toggle theme">
        <svg class="moon-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
        <svg class="sun-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
      </button>
    </header>

    <!-- Quick Search -->
    <div class="search-section">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Quick search Amazon...">
        <button id="searchBtn">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.35-4.35"/>
          </svg>
        </button>
      </div>
      <select id="marketplaceSelect" class="marketplace-select">
        <option value="com">US</option>
        <option value="co.uk">UK</option>
        <option value="de">DE</option>
        <option value="fr">FR</option>
        <option value="ca">CA</option>
        <option value="co.jp">JP</option>
      </select>
    </div>

    <!-- Currency Converter -->
    <div class="converter-section">
      <div class="converter-header">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
        </svg>
        <span>Currency Converter</span>
      </div>
      <div class="converter-row">
        <input type="number" id="convertAmount" placeholder="100.00" step="0.01">
        <select id="fromCurrency">
          <option value="USD">USD $</option>
          <option value="GBP">GBP £</option>
          <option value="EUR">EUR €</option>
          <option value="CAD">CAD $</option>
          <option value="JPY">JPY ¥</option>
        </select>
        <span class="arrow">→</span>
        <select id="toCurrency">
          <option value="GBP">GBP £</option>
          <option value="USD">USD $</option>
          <option value="EUR">EUR €</option>
          <option value="CAD">CAD $</option>
          <option value="JPY">JPY ¥</option>
        </select>
      </div>
      <div id="convertResult" class="convert-result"></div>
    </div>

    <!-- Results -->
    <div id="resultsSection" class="results-section hidden">
      <div class="results-header">
        <span id="resultCount">0 results</span>
        <button id="openSidePanel" class="link-btn">Open full panel</button>
      </div>
      <div id="resultsList" class="results-list"></div>
    </div>

    <!-- Loading -->
    <div id="loadingState" class="loading-state hidden">
      <div class="spinner"></div>
      <span>Searching Amazon...</span>
    </div>

    <!-- Quick Stats -->
    <div class="stats-section">
      <div class="stat">
        <span class="stat-value" id="alertCount">0</span>
        <span class="stat-label">Alerts</span>
      </div>
      <div class="stat">
        <span class="stat-value" id="wishlistCount">0</span>
        <span class="stat-label">Wishlist</span>
      </div>
      <div class="stat">
        <span class="stat-value" id="historyCount">0</span>
        <span class="stat-label">Tracked</span>
      </div>
    </div>

    <!-- Footer Actions -->
    <footer>
      <button id="openSidePanelBtn" class="btn-primary">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2"/>
          <path d="M9 3v18"/>
        </svg>
        Open Side Panel
      </button>
      <button id="settingsBtn" class="btn-secondary">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
        </svg>
      </button>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
